(this["webpackJsonppokemon-app-v2"]=this["webpackJsonppokemon-app-v2"]||[]).push([[0],{19:function(e,t,a){e.exports={PokemonCard:"PokemonCard_PokemonCard__1VIcV",Button:"PokemonCard_Button__11oKi"}},2:function(e,t,a){e.exports={MainWrapper:"Pokemon_MainWrapper__K7a-8",notFound:"Pokemon_notFound__3kQdJ",ProfileWrapper:"Pokemon_ProfileWrapper__9N4XV",StatsWrapper:"Pokemon_StatsWrapper__3dg9X",BtnWrapper:"Pokemon_BtnWrapper__2371m",EvolvWrapper:"Pokemon_EvolvWrapper__fhIxN",MovesListWrapper:"Pokemon_MovesListWrapper__KPJqW",TitleProfile:"Pokemon_TitleProfile__1nFrV",TitleStats:"Pokemon_TitleStats__3uygG",PokemonImg:"Pokemon_PokemonImg__3A98f",MovesListContent:"Pokemon_MovesListContent__27k7o",PokemonType:"Pokemon_PokemonType__1HKHr",Bug:"Pokemon_Bug__2EYdw",Dark:"Pokemon_Dark__1Gmrf",Dragon:"Pokemon_Dragon__12lg5",Electric:"Pokemon_Electric__1VBJM",Fairy:"Pokemon_Fairy__3jPNn",Fighting:"Pokemon_Fighting__9ZA8P",Fire:"Pokemon_Fire__3KBGH",Flying:"Pokemon_Flying__3IItv",Ghost:"Pokemon_Ghost__2iQOO",Grass:"Pokemon_Grass__25xta",Ground:"Pokemon_Ground__3TdDc",Ice:"Pokemon_Ice__2yoHR",Normal:"Pokemon_Normal__1C1f7",Poison:"Pokemon_Poison__2O1Ai",Psychic:"Pokemon_Psychic__1agvU",Rock:"Pokemon_Rock__2uTgA",Steel:"Pokemon_Steel__3o834",Water:"Pokemon_Water__2Jd10"}},21:function(e,t,a){e.exports={Title:"PokemonCardContainer_Title__2Jbck",ErrorConnect:"PokemonCardContainer_ErrorConnect__3uJ3j"}},35:function(e,t,a){e.exports={wrapper:"App_wrapper__3ox-V"}},38:function(e,t,a){e.exports={Loader:"Loader_Loader__17sQZ"}},39:function(e,t,a){e.exports={notFound:"MainWrapper_notFound__2_IpN"}},40:function(e,t,a){e.exports=a(72)},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(34),c=a.n(r),l=a(13),s=(a(45),a(46),a(35)),i=a.n(s),m=(a(47),a(12)),u=a(3),p=a(18),v=a(21),d=a.n(v),_=a(19),E=a.n(_),f=function(e){var t=e.pokemonURL.split("/")[e.pokemonURL.split("/").length-2],a="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(t,".png"),n=e.pokemonName.charAt(0).toUpperCase()+e.pokemonName.substring(1);return o.a.createElement("div",{ref:e.forwardRef,className:"".concat(E.a.PokemonCard)},o.a.createElement("div",{className:"justify-content-between d-flex align-items-center flex-column flex-md-row"},o.a.createElement("div",null,t,".\xa0"),o.a.createElement("div",{className:E.a.test},n),o.a.createElement("div",null,o.a.createElement("img",{src:a,alt:n})),o.a.createElement(l.b,{onClick:e.getCurrentScrollPositionByClick,className:E.a.Button,to:"pokemon/".concat(n)},n,", I Choose You!")))},g=a(38),k=a.n(g),h=function(){return o.a.createElement("div",{className:"".concat(k.a.Loader)})},P=function(e){var t=Object(n.useState)({scrollX:0,scrollY:0}),a=Object(u.a)(t,2),r=a[0],c=a[1],l=function(e){var t={};["scrollX","scrollY"].forEach((function(e){t[e]=window[e]})),localStorage.setItem("scrollCords",JSON.stringify(t))};Object(n.useEffect)((function(){c((function(e){return Object(p.a)({},e,{},JSON.parse(window.localStorage.getItem("scrollCords")))})),window.scrollTo(r.scrollX,r.scrollY)}),[r.scrollX,r.scrollY]);var s=e.pokemons.map((function(t,a){return o.a.createElement(f,{getCurrentScrollPositionByClick:l,key:a,pokemonName:t.name,pokemonURL:t.url,loading:e.loading,forwardRef:e.pokemons.length===a+1?e.lastPokemonElementRef:null})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:d.a.Title},o.a.createElement("h1",null,"Who is that Pokemon?")),o.a.createElement("div",{className:" d-flex justify-content-center"},e.error?o.a.createElement("h1",{className:d.a.ErrorConnect},"Could not connect to server"):e.loading?o.a.createElement(h,null):null),s)},b=a(11),N=a.n(b),j=a(17),w=a(2),O=a.n(w),C=a(8),y=a.n(C),x=(a(71),function(e){var t=e.evolution,a=Object(n.useState)([[{name:"",url:""}],[{name:"",url:""},{name:"",url:""}][{name:"",url:""}]]),r=Object(u.a)(a,2);r[0],r[1];return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({method:"GET",url:t}).then((function(e){console.log("--------------"),console.log("\u043c\u0430\u0441\u0441\u0438\u0432 \u0434\u043b\u044f \u043e\u0431\u0445\u043e\u0434\u0430 - ",e.data.chain),console.log("--------------");var t=[];t.push([e.data.chain.species]);(function e(t){if(Array.isArray(t.evolves_to)&&!t.evolves_to.length)return t.evolves_to;var a=t.evolves_to.map((function(t){return e(t)}));return[].concat(Object(m.a)(t.evolves_to),Object(m.a)(a)).flat()})(e.data.chain).map((function(e){return t.push([e.species])})),console.log("result",t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),o.a.createElement("div",null,o.a.createElement("h1",{style:{textAlign:"center"}},"Coming soon"))}),S=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!0),s=Object(u.a)(l,2),i=s[0],m=s[1],v=Object(n.useState)(!1),d=Object(u.a)(v,2),_=d[0],E=d[1],f=Object(n.useState)({img:"",name:"",weight:"",height:"",description:"",genus:"",types:[],abilities:[],moveList:[],eggGroups:[],stats:[],chanceToCatch:"",evolutionURL:""}),g=Object(u.a)(f,2),k=g[0],P=g[1],b=e.match.params.pokemonName.toLowerCase(),w="https://pokeapi.co/api/v2/pokemon/".concat(b,"/"),C="https://pokeapi.co/api/v2/pokemon-species/".concat(b,"/");return Object(n.useEffect)((function(){var e=!0;return function(){var t=Object(j.a)(N.a.mark((function t(){var a,n,o,r,l,s,i,u,v,d,_,E,f,g,k,h,b,j,O,x;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h=function(e){var t=[];return e.stats.map((function(e){t.push({name:e.stat.name,value:e.base_stat})})),t},_=function(e){var t="";return e.genera.forEach((function(e){"en"===e.language.name&&(t=e.genus)})),t},v=function(e){var t="";return e.flavor_text_entries.forEach((function(e){"en"===e.language.name&&(t=e.flavor_text)})),t},m(!0),t.next=7,y.a.get(w);case 7:return a=t.sent,n=a.data,t.next=11,y.a.get(C);case 11:o=t.sent,r=o.data,l=n.sprites.front_default,s=n.name.charAt(0).toUpperCase()+n.name.substring(1),i=Math.round(n.weight/10),u=n.height/10,d=v(r),E=_(r),f=n.types.map((function(e){return e.type.name.charAt(0).toUpperCase()+e.type.name.substring(1)})),g=n.abilities.map((function(e){return e.ability.name.charAt(0).toUpperCase()+e.ability.name.substring(1)})),k=n.moves.map((function(e){return e.move.name})),b=h(n),j=r.egg_groups.map((function(e){return e.name.charAt(0).toUpperCase()+e.name.substring(1)})),O=Math.round(100*r.capture_rate/255),x=r.evolution_chain.url,e&&P((function(e){return Object(p.a)({},e,{img:l,name:s,weight:i,height:u,description:d,genus:E,types:f,abilities:g,moveList:k,eggGroups:j,stats:b,chanceToCatch:O,evolutionURL:x})})),m(!1),t.next=34;break;case 30:t.prev=30,t.t0=t.catch(0),c(!0),console.log(t.t0);case 34:case"end":return t.stop()}}),t,null,[[0,30]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[w,C]),console.log(k),o.a.createElement("div",{className:O.a.MainWrapper},r?o.a.createElement("h1",{className:O.a.notFound},"Not Found"):i?o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(h,null)):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:O.a.ProfileWrapper},o.a.createElement("div",{className:"row d-flex justify-content-between align-content-center align-items-center"},o.a.createElement("div",{className:"col-xl-3"},o.a.createElement("div",{className:O.a.PokemonImg},o.a.createElement("img",{src:k.img,alt:k.name}))),o.a.createElement("div",{className:"col-xl-9"},o.a.createElement("div",{className:"d-flex flex-column align-self-center"},o.a.createElement("div",{className:O.a.TitleProfile},o.a.createElement("h3",null,"Profile")),o.a.createElement("div",{className:O.a.PokemonName},o.a.createElement("p",null,o.a.createElement("strong",null,"Name:")," ",k.name)),o.a.createElement("div",{className:O.a.PokemonDescr},o.a.createElement("p",null,o.a.createElement("strong",null,"Description:")," ",k.description)),o.a.createElement("div",{className:O.a.PokemonTypes},o.a.createElement("p",null,o.a.createElement("strong",null,"Type:")," \xa0",k.types.map((function(e,t){return o.a.createElement("span",{key:t,className:"".concat(O.a.PokemonType," ").concat(O.a[e])},e)})))),o.a.createElement("div",{className:O.a.PokemonAbil},o.a.createElement("p",null,o.a.createElement("strong",null,"Abilities:")," ",k.abilities.join(", "))),o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("strong",null,"Egg Group:")," ",k.eggGroups.join(", "))),o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("strong",null,"Weight:")," ",k.weight,", kg")),o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("strong",null,"Height:")," ",k.height,", m")),o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("strong",null,"Genus:")," ",k.genus)),o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("strong",null,"Chance to Catch:")," ",k.chanceToCatch,", %")))))),o.a.createElement("div",{className:O.a.StatsWrapper},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:O.a.TitleStats},o.a.createElement("h3",null,"Stats"),k.stats.map((function(e,t){return o.a.createElement("div",{key:t,className:"row align-items-center"},o.a.createElement("div",{className:"col-12 col-xl-3"},e.name),o.a.createElement("div",{className:"col-12 col-xl-9"},o.a.createElement("div",{className:"progress"},o.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(e.value,"%")},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},o.a.createElement("small",null,e.value)))))})))))),o.a.createElement("div",{className:O.a.BtnWrapper},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("button",{onClick:function(){E(!_),console.log(_)}},"Evolution"),o.a.createElement("button",{onClick:function(){e.history.push({pathname:"/"})}},"Back")))),o.a.createElement("div",{className:O.a.EvolvWrapper},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},_?o.a.createElement(x,{evolution:k.evolutionURL}):null))),o.a.createElement("div",{className:O.a.MovesListWrapper},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"d-flex flex-wrap ".concat(O.a.MovesListContent)},o.a.createElement("h3",null,"Moves list"),k.moveList.map((function(e,t){return o.a.createElement("span",{key:t},e," ")}))))))))},W=a(9),T=a(39),F=a.n(T),L=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!0),s=Object(u.a)(l,2),i=s[0],p=s[1],v=Object(n.useState)(!1),d=Object(u.a)(v,2),_=d[0],E=d[1],f=Object(n.useState)("https://pokeapi.co/api/v2/pokemon"),g=Object(u.a)(f,2),k=g[0],h=g[1],b=Object(n.useState)(""),N=Object(u.a)(b,2),j=N[0],w=N[1],O=Object(n.useState)(!1),C=Object(u.a)(O,2),x=C[0],T=C[1],L=Object(n.useRef)(),I=Object(n.useCallback)((function(e){i||(L.current&&L.current.disconnect(),L.current=new IntersectionObserver((function(e){e[0].isIntersecting&&x&&h(j)})),e&&L.current.observe(e))}),[x,i,j]);return Object(n.useEffect)((function(){var e;return p(!0),E(!1),y()({method:"GET",url:k,cancelToken:new y.a.CancelToken((function(t){return e=t}))}).then((function(e){c((function(t){return[].concat(Object(m.a)(t),Object(m.a)(e.data.results))})),w(e.data.next),T(e.data.results.length>0),p(!1)})).catch((function(e){y.a.isCancel(e)||E(!0)})),function(){return e()}}),[k]),o.a.createElement(W.c,null,o.a.createElement(W.a,{exact:!0,path:"/",render:function(e){return o.a.createElement(P,{pokemons:r,loading:i,error:_,lastPokemonElementRef:I})}}),o.a.createElement(W.a,{path:"/pokemon/:pokemonName",component:S}),o.a.createElement(W.a,{render:function(){return o.a.createElement("h1",{className:F.a.notFound}," Not Found")}}))};var I=function(){return o.a.createElement(l.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.a.wrapper},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement(L,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));console.log("privet"),c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.be470d6b.chunk.js.map